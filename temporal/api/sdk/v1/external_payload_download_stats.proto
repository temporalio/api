syntax = "proto3";

package temporal.api.sdk.v1;

option go_package = "go.temporal.io/api/sdk/v1;sdk";
option java_package = "io.temporal.api.sdk.v1";
option java_multiple_files = true;
option java_outer_classname = "ExternalPayloadDownloadStatsProto";
option ruby_package = "Temporalio::Api::Sdk::V1";
option csharp_namespace = "Temporalio.Api.Sdk.V1";

import "google/protobuf/timestamp.proto";

// Stats about external payloads downloaded by SDK during workflow task processing.
message ExternalPayloadDownloadStats {
  // Number of external payloads downloaded.
  int64 payload_count = 1;

  // Total size in bytes of downloaded payloads.
  int64 total_size_bytes = 2;

  // Wall time spent downloading.
  google.protobuf.Timestamp download_time = 3;

  // True if any portion of this workflow task processed history in replay mode
  // (i.e., SDK had to rebuild state) and downloaded payloads during that period.
  bool replay_involved = 4;
}
