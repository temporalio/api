# yaml-language-server: $schema=https://raw.githubusercontent.com/nexus-rpc/nexus-rpc-gen/main/schemas/nexus-rpc-gen.json
#
# Nexus service definition for server-to-worker communication.
# See worker_nexus_service_commands.proto for protocol details and conventions.
#
# Task queue format: /temporal-sys/worker-commands/{namespace}/{worker_grouping_key}

nexusrpc: 1.0.0

services:
  temporal.api.worker.v1.WorkerService:
    description: >
      Internal Nexus service for server-to-worker communication.
      Used by the Temporal server to send commands to workers.
    operations:
      cancel-activities:
        description: >
          Cancels running activities on a worker. The server sends this when
          activities need to be cancelled (e.g., workflow cancellation or
          explicit activity cancellation).
        input:
          $goRef: "go.temporal.io/api/worker/v1.CancelActivitiesRequest"
        output:
          $goRef: "go.temporal.io/api/worker/v1.CancelActivitiesResponse"

